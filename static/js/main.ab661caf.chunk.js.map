{"version":3,"sources":["firebase/firebase.js","context/AuthContext.js","components/auth/Signup.js","components/auth/Login.js","components/auth/PrivateRoute.js","context/DataContext.js","components/user/Profile.js","components/chat/MessageItem.js","components/chat/ChatWindow.js","components/chat/Header.js","components/chat/MessageField.js","components/chat/ChatRoom.js","Main.js","App.js","index.js"],"names":["auth","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getAuth","db","getFirestore","enableMultiTabIndexedDbPersistence","catch","err","code","app","AuthContext","createContext","useAuth","useContext","AuthProvider","props","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","editProfile","newDisplayName","setError","credentials","EmailAuthProvider","credential","reauthenticateWithCredential","then","updateProfile","displayName","console","log","error","Provider","children","Signup","enteredEmail","setEnteredEmail","enteredPassword","setEnteredPassword","history","useHistory","handleSubmit","event","a","preventDefault","push","className","type","placeholder","onChange","target","disabled","onClick","to","Login","PrivateRoute","Component","component","rest","render","DataContext","useData","DataProvider","data","setData","q","query","collection","orderBy","limit","onSnapshot","snapshot","docs","map","doc","id","addData","message","addDoc","text","createdAt","serverTimestamp","uid","image","photoURL","substring","lastIndexOf","Profile","emailRef","useRef","passowrdRef","displayNameRef","alt","src","ref","current","MessageItem","sender","item","ChatWindow","sort","b","dummy","length","undefined","scrollIntoView","behaviour","Header","showProfile","setShowProfile","container","closeRef","onOutsideClick","e","CSSTransition","in","mountOnEnter","unmountOnExit","classNames","timeout","MessageField","enteredMessage","setEnteredMessage","alert","ChatRoom","setCloseRef","total","getRef","Main","App","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ab661caf.chunk.js","sourcesContent":["import { initializeApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport {\r\n\tgetFirestore,\r\n\tenableMultiTabIndexedDbPersistence,\r\n} from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n\t//your api key\r\n\r\n\tapiKey: 'AIzaSyCpmtQ5VCMWu87EtJGnOThzWn_dBxtw7So',\r\n\tauthDomain: 'firechat-7c780.firebaseapp.com',\r\n\tprojectId: 'firechat-7c780',\r\n\tstorageBucket: 'firechat-7c780.appspot.com',\r\n\tmessagingSenderId: '1069506190405',\r\n\tappId: '1:1069506190405:web:c677e8f6ec7ddd559d172c',\r\n\tmeasurementId: 'G-343HMQP9M1',\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth();\r\n\r\nexport const db = getFirestore();\r\n\r\nenableMultiTabIndexedDbPersistence(db).catch((err) => {\r\n\tif (err.code === 'failed-precondition') {\r\n\t\t// Multiple tabs open, persistence can only be enabled\r\n\t\t// in one tab at a a time.\r\n\t\t// ...\r\n\t} else if (err.code === 'unimplemented') {\r\n\t\t// The current browser does not support all of the\r\n\t\t// features required to enable persistence\r\n\t\t// ...\r\n\t}\r\n});\r\n// Subsequent queries will use persistence, if it was enabled successfully\r\n\r\nexport default app;\r\n","import { createContext, useContext, useEffect, useState } from 'react';\r\nimport { auth } from '../firebase/firebase';\r\nimport {\r\n\tcreateUserWithEmailAndPassword,\r\n\tsignInWithEmailAndPassword,\r\n\tonAuthStateChanged,\r\n\tsignOut,\r\n\treauthenticateWithCredential,\r\n\tupdateProfile,\r\n\tEmailAuthProvider,\r\n} from 'firebase/auth';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => {\r\n\treturn useContext(AuthContext);\r\n};\r\n\r\nexport const AuthProvider = (props) => {\r\n\tconst [currentUser, setCurrentUser] = useState();\r\n\tconst [loading, setLoading] = useState(true);\r\n\r\n\tconst signup = (email, password) => {\r\n\t\treturn createUserWithEmailAndPassword(auth, email, password);\r\n\t};\r\n\tconst login = (email, password) => {\r\n\t\treturn signInWithEmailAndPassword(auth, email, password);\r\n\t};\r\n\r\n\tconst logout = () => {\r\n\t\treturn signOut(auth);\r\n\t};\r\n\r\n\tconst editProfile = (email, password, newDisplayName, setError) => {\r\n\t\tlet credentials = EmailAuthProvider.credential(email, password);\r\n\r\n\t\treauthenticateWithCredential(currentUser, credentials)\r\n\t\t\t.then(() => {\r\n\t\t\t\tif (newDisplayName !== null && newDisplayName !== '') {\r\n\t\t\t\t\tupdateProfile(auth.currentUser, {\r\n\t\t\t\t\t\tdisplayName: newDisplayName,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tsetError('DisplayName Updated sucessfully');\r\n\t\t\t\t\t\t\tconsole.log('username updated sucessfully');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\tsetError('Error updating Display Name, Try again');\r\n\t\t\t\t\t\t\tconsole.log('error updating username');\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetError('Wrong Credentials');\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst unsubscribe = onAuthStateChanged(auth, (user) => {\r\n\t\t\tsetCurrentUser(user);\r\n\t\t\tsetLoading(false);\r\n\t\t});\r\n\t\treturn unsubscribe;\r\n\t}, []);\r\n\r\n\tconst value = {\r\n\t\tcurrentUser,\r\n\t\tsignup,\r\n\t\tlogin,\r\n\t\tlogout,\r\n\t\teditProfile,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider value={value}>\r\n\t\t\t{!loading && props.children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n","import { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst Signup = () => {\r\n\tconst [enteredEmail, setEnteredEmail] = useState('');\r\n\tconst [enteredPassword, setEnteredPassword] = useState('');\r\n\tconst { signup, currentUser } = useAuth();\r\n\r\n\tconst [error, setError] = useState('');\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\r\n\tconst handleSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetEnteredEmail('');\r\n\t\tsetEnteredPassword('');\r\n\r\n\t\ttry {\r\n\t\t\tsetError('');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait signup(enteredEmail, enteredPassword);\r\n\t\t\thistory.push('/');\r\n\t\t} catch (error) {\r\n\t\t\tsetError('Failed to SignUp');\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\tconsole.log('signup', currentUser);\r\n\r\n\treturn (\r\n\t\t<div className='h-screen items-center justify-center flex flex-col'>\r\n\t\t\t{error !== '' && <h1>{error}</h1>}\r\n\t\t\t<form className='bg-gray-400 border border-solid rounded-lg m-2 flex flex-col items-center justify-center space-y-3 h-96 w-96'>\r\n\t\t\t\t<h1>Signup</h1>\r\n\t\t\t\t<label>Enter Email</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='w-3/4 h-8 border-black border border-solid rounded-sm'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\tvalue={enteredEmail}\r\n\t\t\t\t\tonChange={(event) => setEnteredEmail(event.target.value)}\r\n\t\t\t\t></input>\r\n\t\t\t\t<label>Enter Password</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='w-3/4 h-8 border-black border border-solid rounded-sm'\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\tvalue={enteredPassword}\r\n\t\t\t\t\tonChange={(event) => setEnteredPassword(event.target.value)}\r\n\t\t\t\t></input>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\tclassName='w-36 h-8 rounded-sm bg-blue-700 text-center border-solid border border-blue-700'\r\n\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t>\r\n\t\t\t\t\tSignUp\r\n\t\t\t\t</button>\r\n\t\t\t\t<h2>Already Have an Account? </h2>\r\n\t\t\t\t<Link to='/login'>\r\n\t\t\t\t\t<button className='w-40 bg-green-500 h-8'>LogIn</button>\r\n\t\t\t\t</Link>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Signup;\r\n","import { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst Login = () => {\r\n\tconst [enteredEmail, setEnteredEmail] = useState('');\r\n\tconst [enteredPassword, setEnteredPassword] = useState('');\r\n\r\n\tconst { login, currentUser } = useAuth();\r\n\r\n\tconst [error, setError] = useState('');\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\r\n\tconst handleSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetEnteredEmail('');\r\n\t\tsetEnteredPassword('');\r\n\t\ttry {\r\n\t\t\tsetError('');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait login(enteredEmail, enteredPassword);\r\n\t\t\thistory.push('/');\r\n\t\t} catch (error) {\r\n\t\t\tsetError('failed to login');\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\tconsole.log('login', currentUser);\r\n\r\n\treturn (\r\n\t\t<div className=' h-screen items-center justify-center flex flex-col'>\r\n\t\t\t{error !== '' && <h1>{error}</h1>}\r\n\t\t\t<form className='bg-gray-400 border border-solid rounded-lg m-2 flex flex-col items-center justify-center space-y-4 h-96 w-96'>\r\n\t\t\t\t<h1>Login</h1>\r\n\t\t\t\t<label>Enter Email</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='w-3/4 h-8 border-black border border-solid rounded-sm'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\tvalue={enteredEmail}\r\n\t\t\t\t\tonChange={(event) => setEnteredEmail(event.target.value)}\r\n\t\t\t\t></input>\r\n\t\t\t\t<label>Enter Password</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='w-3/4 h-8 border-black border border-solid rounded-sm'\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\tvalue={enteredPassword}\r\n\t\t\t\t\tonChange={(event) => setEnteredPassword(event.target.value)}\r\n\t\t\t\t></input>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\tclassName='w-36 h-8 mt-5 rounded-sm bg-blue-700 text-center border-solid border border-blue-700'\r\n\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t>\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</button>\r\n\t\t\t\t<h2>Do not Have an Account? </h2>\r\n\t\t\t\t<Link to='/signup'>\r\n\t\t\t\t\t<button className='w-40 bg-green-500 h-8'>SignUp</button>\r\n\t\t\t\t</Link>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import { Redirect, Route } from 'react-router';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n\tconst { currentUser } = useAuth();\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) => {\r\n\t\t\t\treturn currentUser ? (\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to='/login' />\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t></Route>\r\n\t);\r\n};\r\n\r\nexport default PrivateRoute;\r\n","// eslint-disable-next-line\r\nimport { createContext, useContext, useState, useEffect } from 'react';\r\nimport { db } from '../firebase/firebase';\r\nimport { collection, addDoc } from 'firebase/firestore';\r\nimport {\r\n\t// eslint-disable-next-line\r\n\tonSnapshot,\r\n\tserverTimestamp,\r\n\t// eslint-disable-next-line\r\n\tquery,\r\n\t// eslint-disable-next-line\r\n\torderBy,\r\n\t// eslint-disable-next-line\r\n\tlimit,\r\n} from 'firebase/firestore';\r\n\r\nconst DataContext = createContext();\r\n\r\nexport const useData = () => {\r\n\treturn useContext(DataContext);\r\n};\r\n\r\nexport const DataProvider = (props) => {\r\n\tconst [data, setData] = useState([]);\r\n\r\n\t// const data = [\r\n\t// \t{\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\tcreatedAt: { seconds: 1631960059, nanoseconds: 642000000 },\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\ttext: 'hello',\r\n\t// \t\tid: 'Qx5p8ZurQflZcdQTCu0D',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\tcreatedAt: { seconds: 1631960054, nanoseconds: 143000000 },\r\n\t// \t\ttext: 'hello',\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\tid: 'v5CgEIRX4q4vP28xDlTT',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\tcreatedAt: { seconds: 1631959671, nanoseconds: 256000000 },\r\n\t// \t\ttext: 'j;j;d',\r\n\t// \t\tid: 'W8d5lrdn6n2y7fYcytiq',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\ttext: 'dkl;hna;df',\r\n\t// \t\tcreatedAt: { seconds: 1631959669, nanoseconds: 572000000 },\r\n\t// \t\tid: 'uI0pk0PU6gsREot7IERL',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\ttext: 'jdlak',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\tcreatedAt: { seconds: 1631959668, nanoseconds: 141000000 },\r\n\t// \t\tid: 'yxkj32p702XadPEd1roz',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\tcreatedAt: { seconds: 1631959667, nanoseconds: 56000000 },\r\n\t// \t\ttext: 'hello',\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\tid: 'lQrspxicNUb8j3Qatg6S',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\tcreatedAt: { seconds: 1631959548, nanoseconds: 466000000 },\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\ttext: 'hello',\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\tid: 'Vejx2p3AfTSZZqxKsmUB',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\tcreatedAt: { seconds: 1631959426, nanoseconds: 579000000 },\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\ttext: 'wow',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\tid: 'nPrvjsMZHSyWmyKFZ1ot',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\tcreatedAt: { seconds: 1631959420, nanoseconds: 276000000 },\r\n\t// \t\ttext: 'hello',\r\n\t// \t\tid: 'T32Avx9PAU2qsrS7brpt',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tcreatedAt: { seconds: 1631957548, nanoseconds: 554000000 },\r\n\t// \t\ttext: 'Jsjsn',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t// \t\temail: 'mobile@mobile.com',\r\n\t// \t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t// \t\tid: 'xnTNAaFY7loVSzLsxqdP',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\ttext: 'Usus',\r\n\t// \t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t// \t\temail: 'mobile@mobile.com',\r\n\t// \t\tcreatedAt: { seconds: 1631957546, nanoseconds: 169000000 },\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t// \t\tid: 'WAnxQJKpJ7Xf6cFM863y',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tcreatedAt: { seconds: 1631957541, nanoseconds: 875000000 },\r\n\t// \t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t// \t\temail: 'mobile@mobile.com',\r\n\t// \t\ttext: 'Hello',\r\n\t// \t\tid: 'GUU4AqN5VGCVPf50DYT8',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tcreatedAt: { seconds: 1631957529, nanoseconds: 662000000 },\r\n\t// \t\temail: 'mobile@mobile.com',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t// \t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t// \t\ttext: 'Gello',\r\n\t// \t\tid: '0ee9SgJQqwalXnvPeqKW',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\ttext: 'bjlbaf',\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\tcreatedAt: { seconds: 1631957493, nanoseconds: 866000000 },\r\n\t// \t\tid: '7X1rAACI60HGevqX3eMJ',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\ttext: 'abhcjlabfc',\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\tcreatedAt: { seconds: 1631957493, nanoseconds: 30000000 },\r\n\t// \t\tid: 'D4GfjRrGdFrvhslLDoPM',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\tcreatedAt: { seconds: 1631957492, nanoseconds: 190000000 },\r\n\t// \t\ttext: \"hcalbhfjla'\",\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\tid: 'j1oHq2ADRJ0PscgYXuc0',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\ttext: 'hflahfiop',\r\n\t// \t\tcreatedAt: { seconds: 1631957491, nanoseconds: 222000000 },\r\n\t// \t\tid: '6zbWu7EtVntZjaUs6Y44',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\tcreatedAt: { seconds: 1631957488, nanoseconds: 23000000 },\r\n\t// \t\ttext: 'hello',\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\tid: 'TCvgKP0G9vfelhDdYVTL',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\ttext: 'hello',\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\tcreatedAt: { seconds: 1631957451, nanoseconds: 722000000 },\r\n\t// \t\tid: 'KqukKEh0T8azRDX6ToNM',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\temail: 'mobile@mobile.com',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t// \t\tcreatedAt: { seconds: 1631957154, nanoseconds: 822000000 },\r\n\t// \t\ttext: 'Hello',\r\n\t// \t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t// \t\tid: 'Uk1go9UwCKw2odMhqEbp',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t// \t\tcreatedAt: { seconds: 1631957132, nanoseconds: 929000000 },\r\n\t// \t\temail: 'mobile@mobile.com',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t// \t\ttext: 'Hello',\r\n\t// \t\tid: 'L6aKOdUgm7NxaeiYioQM',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t// \t\ttext: '',\r\n\t// \t\tcreatedAt: { seconds: 1631957130, nanoseconds: 818000000 },\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t// \t\temail: 'mobile@mobile.com',\r\n\t// \t\tid: 'SToijJOEB9oMR4pEZzzx',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tcreatedAt: { seconds: 1631957088, nanoseconds: 678000000 },\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t// \t\ttext: 'How',\r\n\t// \t\temail: 'mobile@mobile.com',\r\n\t// \t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t// \t\tid: 'mvmhWhkAQmkaXXqLweV2',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tcreatedAt: { seconds: 1631957029, nanoseconds: 887000000 },\r\n\t// \t\temail: 'mobile@mobile.com',\r\n\t// \t\ttext: 'HELLO',\r\n\t// \t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t// \t\tid: 'bIJ3e1I0nu5UcgqrBRAx',\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\ttext: 'this sucks',\r\n\t// \t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t// \t\timage:\r\n\t// \t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t// \t\tcreatedAt: { seconds: 1631956998, nanoseconds: 677000000 },\r\n\t// \t\temail: 'test@test.com',\r\n\t// \t\tid: 'jB5WindTdrf4VZewi4Fa',\r\n\t// \t},\r\n\t// ];\r\n\r\n\tconst addData = (message, currentUser) => {\r\n\t\treturn addDoc(collection(db, 'messages'), {\r\n\t\t\ttext: message,\r\n\t\t\tcreatedAt: serverTimestamp(),\r\n\t\t\tdisplayName: currentUser.displayName,\r\n\t\t\temail: currentUser.email,\r\n\t\t\tuid: currentUser.uid,\r\n\t\t\timage:\r\n\t\t\t\tcurrentUser.photoURL === null\r\n\t\t\t\t\t? `https://avatars.dicebear.com/api/gridy/${currentUser.email.substring(\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\tcurrentUser.email.lastIndexOf('@')\r\n\t\t\t\t\t  )}.svg?background=%239999ff`\r\n\t\t\t\t\t: currentUser.photoURL,\r\n\t\t});\r\n\t};\r\n\r\n\t// useEffect(\r\n\t// \t() =>\r\n\t// \t\tonSnapshot(\r\n\t// \t\t\tcollection(db, 'messages'),\r\n\t// \t\t\t(snapshot) =>\r\n\t// \t\t\t\tsetData(\r\n\t// \t\t\t\t\tsnapshot.docs.map((doc) => {\r\n\t// \t\t\t\t\t\treturn { ...doc.data(), id: doc.id };\r\n\t// \t\t\t\t\t})\r\n\t// \t\t\t\t)\r\n\t// \t\t),\r\n\t// \t[]\r\n\t// );\r\n\r\n\tuseEffect(() => {\r\n\t\tconst q = query(\r\n\t\t\tcollection(db, 'messages'),\r\n\t\t\torderBy('createdAt', 'desc'),\r\n\t\t\tlimit(11)\r\n\t\t);\r\n\r\n\t\tconsole.log('happened');\r\n\r\n\t\treturn onSnapshot(q, (snapshot) => {\r\n\t\t\tsetData(\r\n\t\t\t\tsnapshot.docs.map((doc) => {\r\n\t\t\t\t\treturn { ...doc.data(), id: doc.id };\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst value = {\r\n\t\taddData,\r\n\t\tdata,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<DataContext.Provider value={value}>{props.children}</DataContext.Provider>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useState, useRef } from 'react';\r\n\r\nfunction Profile(props) {\r\n\tconst { currentUser, editProfile } = useAuth();\r\n\r\n\tconst [error, setError] = useState('');\r\n\r\n\tconst emailRef = useRef();\r\n\tconst passowrdRef = useRef();\r\n\tconst displayNameRef = useRef();\r\n\r\n\tconst changeHandler = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\teditProfile(\r\n\t\t\temailRef.current.value,\r\n\t\t\tpassowrdRef.current.value,\r\n\t\t\tdisplayNameRef.current.value,\r\n\t\t\tsetError\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`${\r\n\t\t\t\tprops.className\r\n\t\t\t\t\t? props.className\r\n\t\t\t\t\t: 'hidden md:block h-screen md:w-1/3 max-h-screen overflow-y-auto bg-gray-600'\r\n\t\t\t} `}\r\n\t\t>\r\n\t\t\t<div className='h-1/5 bg-gray-900 text-white flex flex-col items-center justify-center'>\r\n\t\t\t\t<img\r\n\t\t\t\t\talt='user profile'\r\n\t\t\t\t\tclassName='w-20 h-20 rounded-full'\r\n\t\t\t\t\tsrc={\r\n\t\t\t\t\t\tcurrentUser.photoURL === null\r\n\t\t\t\t\t\t\t? `https://avatars.dicebear.com/api/gridy/${currentUser.email.substring(\r\n\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\tcurrentUser.email.lastIndexOf('@')\r\n\t\t\t\t\t\t\t  )}.svg?background=%239999ff`\r\n\t\t\t\t\t\t\t: currentUser.photoURL\r\n\t\t\t\t\t}\r\n\t\t\t\t></img>\r\n\t\t\t\t<span className='mt-4'>\r\n\t\t\t\t\t{currentUser.displayName === null\r\n\t\t\t\t\t\t? currentUser.email.substring(0, currentUser.email.lastIndexOf('@'))\r\n\t\t\t\t\t\t: currentUser.displayName}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className='flex flex-col items-center justify-start text-white space-y-3'>\r\n\t\t\t\t<span className='mt-2'>Name: {currentUser.displayName}</span>\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={displayNameRef}\r\n\t\t\t\t\tclassName='bg-gray-800 w-3/4 h-8 border-gray-300 border border-solid rounded-sm'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Set Display Name'\r\n\t\t\t\t></input>\r\n\r\n\t\t\t\t<span className='mt-2'>Email: {currentUser.email}</span>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<form className='flex flex-col items-center justify-center mt-5 text-white space-y-3 border-top'>\r\n\t\t\t\t\t<label>Enter Email and Password to Save Changes</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={emailRef}\r\n\t\t\t\t\t\tclassName='bg-gray-800 w-3/4 h-8 border-gray-300 border border-solid rounded-sm'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<label>Enter Password</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={passowrdRef}\r\n\t\t\t\t\t\tclassName='bg-gray-800 w-3/4 h-8 border-gray-300 border border-solid rounded-sm'\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Enter Old password'\r\n\t\t\t\t\t></input>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={changeHandler}\r\n\t\t\t\t\t\tclassName='bg-gray-800 p-2 px-3 rounded-md hover:border-2 border-gray-300 border-solid'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSave Changes\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<p>{error}</p>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\n\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nexport default function MessageItem(props) {\r\n\tconst { currentUser } = useAuth();\r\n\r\n\tconst sender = props.item.uid === currentUser.uid;\r\n\r\n\treturn (\r\n\t\t<div className={`w-full flex ${sender ? 'flex-row-reverse' : 'flex-row'}`}>\r\n\t\t\t<div\r\n\t\t\t\tclassName={`w-max p-2 text-sm flex items-center justify-center rounded-xl bg-gray-800 text-white m-2 ${\r\n\t\t\t\t\tsender ? 'flex-row-reverse' : 'flex-row'\r\n\t\t\t\t}`}\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={props.item.image}\r\n\t\t\t\t\tclassName={`w-8 h-8 rounded-full ${sender ? 'ml-2' : 'mr-2'}`}\r\n\t\t\t\t\talt='t'\r\n\t\t\t\t/>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`flex flex-col justify-between ${\r\n\t\t\t\t\t\tsender ? 'items-end pr-1 pl-2' : 'items-start pl-1z` pr-2'\r\n\t\t\t\t\t} `}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className='text-xs text-gray-400'>\r\n\t\t\t\t\t\t{props.item.displayName}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>{props.item.text}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useRef } from 'react';\r\n\r\nimport { useData } from '../../context/DataContext';\r\nimport MessageItem from './MessageItem';\r\n\r\nexport default function ChatWindow(props) {\r\n\tconst { data } = useData();\r\n\tdata.sort((a, b) => b.createdAt - a.createdAt); //descending\r\n\r\n\tconst dummy = useRef();\r\n\r\n\treturn (\r\n\t\t<div className='h-[calc(100%-8rem)] flex flex-col-reverse'>\r\n\t\t\t<div className='main w-full min-w-full max-h-[calc(100vh-8rem-56px)] sm:max-h-[calc(100vh-8rem)] overflow-y-auto flex justify-start flex-col-reverse relative'>\r\n\t\t\t\t{data.length !== 0 &&\r\n\t\t\t\t\tdata.map((item) => {\r\n\t\t\t\t\t\tif (dummy.current !== undefined) {\r\n\t\t\t\t\t\t\tdummy.current.scrollIntoView({ behaviour: 'smooth' });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn <MessageItem key={item.id} item={item} />;\r\n\t\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div ref={dummy}> </div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport Profile from '../user/Profile';\r\nimport OnOutsiceClick from 'react-outclick';\r\n\r\nexport default function Header(props) {\r\n\tconst { currentUser, logout } = useAuth();\r\n\tconst [showProfile, setShowProfile] = useState(false);\r\n\treturn (\r\n\t\t<header className='w-full h-16 md:h-20 flex items-center justify-between bg-gray-800 p-2 z-[5] md:p-4 absolute top-0'>\r\n\t\t\t<h2 className='text-white text-xl md:text-3xl'>#globalChat</h2>\r\n\t\t\t<button\r\n\t\t\t\tclassName='bg-gray-500 p-2 px-3 rounded-md hover:border-2 border-gray-300 border-solid'\r\n\t\t\t\tonClick={logout}\r\n\t\t\t>\r\n\t\t\t\tSignOut\r\n\t\t\t</button>\r\n\t\t\t<div\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetShowProfile(!showProfile);\r\n\t\t\t\t}}\r\n\t\t\t\tclassName='flex items-center w-max md:hidden absolute right-5 cursor-pointer '\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={\r\n\t\t\t\t\t\tcurrentUser.photoURL === null\r\n\t\t\t\t\t\t\t? `https://avatars.dicebear.com/api/gridy/${currentUser.email.substring(\r\n\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\tcurrentUser.email.lastIndexOf('@')\r\n\t\t\t\t\t\t\t  )}.svg?background=%239999ff`\r\n\t\t\t\t\t\t\t: currentUser.photoURL\r\n\t\t\t\t\t}\r\n\t\t\t\t\talt='user avatar'\r\n\t\t\t\t\tclassName='w-10 h-10 object-contain rounded-full hover:scale-90 transform transition-all'\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<OnOutsiceClick\r\n\t\t\t\tcontainer={props.closeRef}\r\n\t\t\t\tonOutsideClick={(e) => {\r\n\t\t\t\t\tsetShowProfile(false);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CSSTransition\r\n\t\t\t\t\tin={showProfile}\r\n\t\t\t\t\tmountOnEnter\r\n\t\t\t\t\tunmountOnExit\r\n\t\t\t\t\tclassNames='slide-in-right'\r\n\t\t\t\t\ttimeout={200}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Profile className='w-[calc(20rem-4px)] h-[calc(100vh-3.6rem)] absolute top-0 right-0 bg-gray-600 transform transition-all z-10 shadow-2xl' />\r\n\t\t\t\t</CSSTransition>\r\n\t\t\t</OnOutsiceClick>\r\n\t\t</header>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { useState } from 'react/cjs/react.development';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useData } from '../../context/DataContext';\r\n\r\nexport default function MessageField(props) {\r\n\tconst { currentUser } = useAuth();\r\n\tconst { addData } = useData();\r\n\r\n\tconst [enteredMessage, setEnteredMessage] = useState('');\r\n\r\n\tconst sendMessageHandler = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\ttry {\r\n\t\t\taddData(enteredMessage, currentUser);\r\n\t\t} catch (error) {\r\n\t\t\talert('error sending message');\r\n\t\t\tconsole.log('error');\r\n\t\t}\r\n\t\tsetEnteredMessage('');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='h-16 w-full flex items-center justify-center p-2 absolute bottom-0'>\r\n\t\t\t<form className='flex w-full h-full items-stretch'>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='w-9/12 h-full border-gray-400 border-solid border-2 bg-gray-600'\r\n\t\t\t\t\tplaceholder='enter message'\r\n\t\t\t\t\tonChange={(e) => setEnteredMessage(e.target.value)}\r\n\t\t\t\t\tvalue={enteredMessage}\r\n\t\t\t\t></input>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={sendMessageHandler}\r\n\t\t\t\t\tclassName='mx-auto w-2/12 border-gray-400 border-solid border-2 h-full bg-gray-900 text-white disabled:bg-gray-600 disabled:text-gray-500 disabled:cursor-not-allowed'\r\n\t\t\t\t\tdisabled={!enteredMessage}\r\n\t\t\t\t>\r\n\t\t\t\t\tSEND\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useRef } from 'react/cjs/react.development';\r\nimport ChatWindow from './ChatWindow';\r\nimport Header from './Header';\r\nimport MessageField from './MessageField';\r\n\r\nexport default function ChatRoom() {\r\n\tconst [closeRef, setCloseRef] = useState('');\r\n\r\n\tconst total = useRef();\r\n\r\n\tconst getRef = (ref) => {\r\n\t\tconsole.log(ref);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCloseRef(total);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={total}\r\n\t\t\tclassName='h-full w-full sm:w-11/12 md:w-2/3 flex flex-col justify-center overflow-y-auto bg-gray-500 relative'\r\n\t\t>\r\n\t\t\t<Header closeRef={closeRef} />\r\n\t\t\t<ChatWindow getRef={getRef} />\r\n\t\t\t<MessageField />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import Profile from './components/user/Profile';\r\nimport ChatRoom from './components/chat/ChatRoom';\r\n\r\nconst Main = () => {\r\n\treturn (\r\n\t\t<div className='w-full h-full relative flex flex-row items-center justify-center'>\r\n\t\t\t<ChatRoom />\r\n\t\t\t<Profile />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Main;\r\n","import Signup from './components/auth/Signup';\r\nimport { AuthProvider } from './context/AuthContext';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport './styles/index.css';\r\nimport './styles/scrollBar.css';\r\n// import DashBoard from './components/user/DashBoard';\r\nimport Login from './components/auth/Login';\r\nimport PrivateRoute from './components/auth/PrivateRoute';\r\nimport { DataProvider } from './context/DataContext';\r\n\r\nimport Main from './Main';\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<div className='h-screen max-h-[calc(100vh-56px)] sm:max-h-screen bg-green-400 overflow-y-auto overflow-x-hidden w-full min-w-full'>\r\n\t\t\t<Router>\r\n\t\t\t\t<AuthProvider>\r\n\t\t\t\t\t<DataProvider>\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<PrivateRoute exact path='/' component={Main} />\r\n\t\t\t\t\t\t\t<Route path='/signup' component={Signup} />\r\n\t\t\t\t\t\t\t<Route path='/login' component={Login} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</DataProvider>\r\n\t\t\t\t</AuthProvider>\r\n\t\t\t</Router>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}