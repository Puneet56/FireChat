{"version":3,"sources":["firebase/firebase.js","context/AuthContext.js","components/auth/Signup.js","components/auth/Login.js","components/auth/PrivateRoute.js","context/DataContext.js","components/user/Profile.js","components/chat/MessageItem.js","components/chat/ChatWindow.js","components/chat/Header.js","components/chat/MessageField.js","components/chat/ChatRoom.js","Main.js","App.js","index.js"],"names":["auth","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getAuth","db","getFirestore","enableMultiTabIndexedDbPersistence","catch","err","code","app","AuthContext","createContext","useAuth","useContext","AuthProvider","props","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","localStorage","setItem","token","console","log","getItem","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","editProfile","newDisplayName","setError","credentials","EmailAuthProvider","credential","reauthenticateWithCredential","then","updateProfile","displayName","error","Provider","children","Signup","enteredEmail","setEnteredEmail","enteredPassword","setEnteredPassword","history","useHistory","handleSubmit","event","a","preventDefault","push","className","type","placeholder","onChange","target","disabled","onClick","to","Login","PrivateRoute","Component","component","rest","render","DataContext","useData","DataProvider","serverTimestamp","addData","message","addDoc","collection","text","createdAt","uid","image","photoURL","substring","lastIndexOf","data","seconds","nanoseconds","id","Profile","emailRef","useRef","passowrdRef","displayNameRef","alt","src","ref","current","MessageItem","sender","item","ChatWindow","sort","b","dummy","length","map","undefined","scrollIntoView","behaviour","Header","showProfile","setShowProfile","container","closeRef","onOutsideClick","e","CSSTransition","in","mountOnEnter","unmountOnExit","classNames","timeout","MessageField","enteredMessage","setEnteredMessage","alert","ChatRoom","setCloseRef","total","getRef","Main","App","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c4c9b27b.chunk.js","sourcesContent":["import { initializeApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport {\r\n\tgetFirestore,\r\n\tenableMultiTabIndexedDbPersistence,\r\n} from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: 'AIzaSyCpmtQ5VCMWu87EtJGnOThzWn_dBxtw7So',\r\n\tauthDomain: 'firechat-7c780.firebaseapp.com',\r\n\tprojectId: 'firechat-7c780',\r\n\tstorageBucket: 'firechat-7c780.appspot.com',\r\n\tmessagingSenderId: '1069506190405',\r\n\tappId: '1:1069506190405:web:c677e8f6ec7ddd559d172c',\r\n\tmeasurementId: 'G-343HMQP9M1',\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth();\r\n\r\nexport const db = getFirestore();\r\n\r\nenableMultiTabIndexedDbPersistence(db).catch((err) => {\r\n\tif (err.code === 'failed-precondition') {\r\n\t\t// Multiple tabs open, persistence can only be enabled\r\n\t\t// in one tab at a a time.\r\n\t\t// ...\r\n\t} else if (err.code === 'unimplemented') {\r\n\t\t// The current browser does not support all of the\r\n\t\t// features required to enable persistence\r\n\t\t// ...\r\n\t}\r\n});\r\n// Subsequent queries will use persistence, if it was enabled successfully\r\n\r\nexport default app;\r\n","import { createContext, useContext, useEffect, useState } from 'react';\r\nimport { auth } from '../firebase/firebase';\r\nimport {\r\n\tcreateUserWithEmailAndPassword,\r\n\tsignInWithEmailAndPassword,\r\n\tonAuthStateChanged,\r\n\tsignOut,\r\n\treauthenticateWithCredential,\r\n\tupdateProfile,\r\n\tEmailAuthProvider,\r\n} from 'firebase/auth';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => {\r\n\treturn useContext(AuthContext);\r\n};\r\n\r\nexport const AuthProvider = (props) => {\r\n\tconst [currentUser, setCurrentUser] = useState();\r\n\tconst [loading, setLoading] = useState(true);\r\n\r\n\tconst signup = (email, password) => {\r\n\t\treturn createUserWithEmailAndPassword(auth, email, password);\r\n\t};\r\n\tconst login = (email, password) => {\r\n\t\treturn signInWithEmailAndPassword(auth, email, password);\r\n\t};\r\n\r\n\tconst logout = () => {\r\n\t\treturn signOut(auth);\r\n\t};\r\n\r\n\tconst editProfile = (email, password, newDisplayName, setError) => {\r\n\t\tlet credentials = EmailAuthProvider.credential(email, password);\r\n\r\n\t\treauthenticateWithCredential(currentUser, credentials)\r\n\t\t\t.then(() => {\r\n\t\t\t\tif (newDisplayName !== null && newDisplayName !== '') {\r\n\t\t\t\t\tupdateProfile(auth.currentUser, {\r\n\t\t\t\t\t\tdisplayName: newDisplayName,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tsetError('DisplayName Updated sucessfully');\r\n\t\t\t\t\t\t\tconsole.log('username updated sucessfully');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\tsetError('Error updating Display Name, Try again');\r\n\t\t\t\t\t\t\tconsole.log('error updating username');\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetError('Wrong Credentials');\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst unsubscribe = onAuthStateChanged(auth, (user) => {\r\n\t\t\tlocalStorage.setItem('auth-token', 'firechat ' + user.token);\r\n\t\t\tconsole.log(localStorage.getItem('auth-token'));\r\n\t\t\tsetCurrentUser(user);\r\n\t\t\tsetLoading(false);\r\n\t\t});\r\n\t\treturn unsubscribe;\r\n\t}, []);\r\n\r\n\tconst value = {\r\n\t\tcurrentUser,\r\n\t\tsignup,\r\n\t\tlogin,\r\n\t\tlogout,\r\n\t\teditProfile,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider value={value}>\r\n\t\t\t{!loading && props.children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n","import { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst Signup = () => {\r\n\tconst [enteredEmail, setEnteredEmail] = useState('');\r\n\tconst [enteredPassword, setEnteredPassword] = useState('');\r\n\tconst { signup, currentUser } = useAuth();\r\n\r\n\tconst [error, setError] = useState('');\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\r\n\tconst handleSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetEnteredEmail('');\r\n\t\tsetEnteredPassword('');\r\n\r\n\t\ttry {\r\n\t\t\tsetError('');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait signup(enteredEmail, enteredPassword);\r\n\t\t\thistory.push('/');\r\n\t\t} catch (error) {\r\n\t\t\tsetError('Failed to SignIn');\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\tconsole.log('signup', currentUser);\r\n\r\n\treturn (\r\n\t\t<div className='h-screen items-center justify-center flex flex-col'>\r\n\t\t\t{error !== '' && <h1>{error}</h1>}\r\n\t\t\t<form className='border border-solid rounded-lg m-2 flex flex-col items-center justify-center space-y-3 h-96 w-96'>\r\n\t\t\t\t<h1>Signup</h1>\r\n\t\t\t\t<label>Enter Email</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='w-3/4 h-8 border-black border border-solid rounded-sm'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\tvalue={enteredEmail}\r\n\t\t\t\t\tonChange={(event) => setEnteredEmail(event.target.value)}\r\n\t\t\t\t></input>\r\n\t\t\t\t<label>Enter Password</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='w-3/4 h-8 border-black border border-solid rounded-sm'\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\tvalue={enteredPassword}\r\n\t\t\t\t\tonChange={(event) => setEnteredPassword(event.target.value)}\r\n\t\t\t\t></input>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\tclassName='w-36 h-8 rounded-sm bg-blue-700 text-center border-solid border border-blue-700'\r\n\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t>\r\n\t\t\t\t\tSignUp\r\n\t\t\t\t</button>\r\n\t\t\t\t<h2>Already Have an Account? </h2>\r\n\t\t\t\t<Link to='/login'>\r\n\t\t\t\t\t<button className='w-40 bg-green-500 h-8'>LogIn</button>\r\n\t\t\t\t</Link>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Signup;\r\n","import { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst Login = () => {\r\n\tconst [enteredEmail, setEnteredEmail] = useState('');\r\n\tconst [enteredPassword, setEnteredPassword] = useState('');\r\n\r\n\tconst { login, currentUser } = useAuth();\r\n\r\n\tconst [error, setError] = useState('');\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\r\n\tconst handleSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetEnteredEmail('');\r\n\t\tsetEnteredPassword('');\r\n\t\ttry {\r\n\t\t\tsetError('');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait login(enteredEmail, enteredPassword);\r\n\t\t\thistory.push('/');\r\n\t\t} catch (error) {\r\n\t\t\tsetError('failed to login');\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\tconsole.log('login', currentUser);\r\n\r\n\treturn (\r\n\t\t<div className='h-screen items-center justify-center flex flex-col'>\r\n\t\t\t{error !== '' && <h1>{error}</h1>}\r\n\t\t\t<form className='border border-solid rounded-lg m-2 flex flex-col items-center justify-center space-y-4 h-96 w-96'>\r\n\t\t\t\t<h1>Login</h1>\r\n\t\t\t\t<label>Enter Email</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='w-3/4 h-8 border-black border border-solid rounded-sm'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\tvalue={enteredEmail}\r\n\t\t\t\t\tonChange={(event) => setEnteredEmail(event.target.value)}\r\n\t\t\t\t></input>\r\n\t\t\t\t<label>Enter Password</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='w-3/4 h-8 border-black border border-solid rounded-sm'\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\tvalue={enteredPassword}\r\n\t\t\t\t\tonChange={(event) => setEnteredPassword(event.target.value)}\r\n\t\t\t\t></input>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\tclassName='w-36 h-8 mt-5 rounded-sm bg-blue-700 text-center border-solid border border-blue-700'\r\n\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t>\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</button>\r\n\t\t\t\t<h2>Do not Have an Account? </h2>\r\n\t\t\t\t<Link to='/signup'>\r\n\t\t\t\t\t<button className='w-40 bg-green-500 h-8'>SignUp</button>\r\n\t\t\t\t</Link>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import { Redirect, Route } from 'react-router';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n\tconst { currentUser } = useAuth();\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) => {\r\n\t\t\t\treturn currentUser ? (\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to='/login' />\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t></Route>\r\n\t);\r\n};\r\n\r\nexport default PrivateRoute;\r\n","// eslint-disable-next-line\r\nimport { createContext, useContext, useState, useEffect } from 'react';\r\nimport { db } from '../firebase/firebase';\r\nimport { collection, addDoc } from 'firebase/firestore';\r\nimport {\r\n\t// eslint-disable-next-line\r\n\tonSnapshot,\r\n\tserverTimestamp,\r\n\t// eslint-disable-next-line\r\n\tquery,\r\n\t// eslint-disable-next-line\r\n\torderBy,\r\n\t// eslint-disable-next-line\r\n\tlimit,\r\n} from 'firebase/firestore';\r\n\r\nconst DataContext = createContext();\r\n\r\nexport const useData = () => {\r\n\treturn useContext(DataContext);\r\n};\r\n\r\nexport const DataProvider = (props) => {\r\n\t// const [data, setData] = useState([]);\r\n\r\n\tconsole.log(serverTimestamp());\r\n\r\n\tconst data = [\r\n\t\t{\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\tcreatedAt: { seconds: 1631960059, nanoseconds: 642000000 },\r\n\t\t\temail: 'test@test.com',\r\n\t\t\ttext: 'hello',\r\n\t\t\tid: 'Qx5p8ZurQflZcdQTCu0D',\r\n\t\t},\r\n\t\t{\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\tcreatedAt: { seconds: 1631960054, nanoseconds: 143000000 },\r\n\t\t\ttext: 'hello',\r\n\t\t\temail: 'test@test.com',\r\n\t\t\tid: 'v5CgEIRX4q4vP28xDlTT',\r\n\t\t},\r\n\t\t{\r\n\t\t\temail: 'test@test.com',\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\tcreatedAt: { seconds: 1631959671, nanoseconds: 256000000 },\r\n\t\t\ttext: 'j;j;d',\r\n\t\t\tid: 'W8d5lrdn6n2y7fYcytiq',\r\n\t\t},\r\n\t\t{\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\temail: 'test@test.com',\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\ttext: 'dkl;hna;df',\r\n\t\t\tcreatedAt: { seconds: 1631959669, nanoseconds: 572000000 },\r\n\t\t\tid: 'uI0pk0PU6gsREot7IERL',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: 'jdlak',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\temail: 'test@test.com',\r\n\t\t\tcreatedAt: { seconds: 1631959668, nanoseconds: 141000000 },\r\n\t\t\tid: 'yxkj32p702XadPEd1roz',\r\n\t\t},\r\n\t\t{\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\tcreatedAt: { seconds: 1631959667, nanoseconds: 56000000 },\r\n\t\t\ttext: 'hello',\r\n\t\t\temail: 'test@test.com',\r\n\t\t\tid: 'lQrspxicNUb8j3Qatg6S',\r\n\t\t},\r\n\t\t{\r\n\t\t\temail: 'test@test.com',\r\n\t\t\tcreatedAt: { seconds: 1631959548, nanoseconds: 466000000 },\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\ttext: 'hello',\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\tid: 'Vejx2p3AfTSZZqxKsmUB',\r\n\t\t},\r\n\t\t{\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\tcreatedAt: { seconds: 1631959426, nanoseconds: 579000000 },\r\n\t\t\temail: 'test@test.com',\r\n\t\t\ttext: 'wow',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\tid: 'nPrvjsMZHSyWmyKFZ1ot',\r\n\t\t},\r\n\t\t{\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\temail: 'test@test.com',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\tcreatedAt: { seconds: 1631959420, nanoseconds: 276000000 },\r\n\t\t\ttext: 'hello',\r\n\t\t\tid: 'T32Avx9PAU2qsrS7brpt',\r\n\t\t},\r\n\t\t{\r\n\t\t\tcreatedAt: { seconds: 1631957548, nanoseconds: 554000000 },\r\n\t\t\ttext: 'Jsjsn',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t\t\temail: 'mobile@mobile.com',\r\n\t\t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t\t\tid: 'xnTNAaFY7loVSzLsxqdP',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: 'Usus',\r\n\t\t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t\t\temail: 'mobile@mobile.com',\r\n\t\t\tcreatedAt: { seconds: 1631957546, nanoseconds: 169000000 },\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t\t\tid: 'WAnxQJKpJ7Xf6cFM863y',\r\n\t\t},\r\n\t\t{\r\n\t\t\tcreatedAt: { seconds: 1631957541, nanoseconds: 875000000 },\r\n\t\t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t\t\temail: 'mobile@mobile.com',\r\n\t\t\ttext: 'Hello',\r\n\t\t\tid: 'GUU4AqN5VGCVPf50DYT8',\r\n\t\t},\r\n\t\t{\r\n\t\t\tcreatedAt: { seconds: 1631957529, nanoseconds: 662000000 },\r\n\t\t\temail: 'mobile@mobile.com',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t\t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t\t\ttext: 'Gello',\r\n\t\t\tid: '0ee9SgJQqwalXnvPeqKW',\r\n\t\t},\r\n\t\t{\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\ttext: 'bjlbaf',\r\n\t\t\temail: 'test@test.com',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\tcreatedAt: { seconds: 1631957493, nanoseconds: 866000000 },\r\n\t\t\tid: '7X1rAACI60HGevqX3eMJ',\r\n\t\t},\r\n\t\t{\r\n\t\t\temail: 'test@test.com',\r\n\t\t\ttext: 'abhcjlabfc',\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\tcreatedAt: { seconds: 1631957493, nanoseconds: 30000000 },\r\n\t\t\tid: 'D4GfjRrGdFrvhslLDoPM',\r\n\t\t},\r\n\t\t{\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\tcreatedAt: { seconds: 1631957492, nanoseconds: 190000000 },\r\n\t\t\ttext: \"hcalbhfjla'\",\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\temail: 'test@test.com',\r\n\t\t\tid: 'j1oHq2ADRJ0PscgYXuc0',\r\n\t\t},\r\n\t\t{\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\temail: 'test@test.com',\r\n\t\t\ttext: 'hflahfiop',\r\n\t\t\tcreatedAt: { seconds: 1631957491, nanoseconds: 222000000 },\r\n\t\t\tid: '6zbWu7EtVntZjaUs6Y44',\r\n\t\t},\r\n\t\t{\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\temail: 'test@test.com',\r\n\t\t\tcreatedAt: { seconds: 1631957488, nanoseconds: 23000000 },\r\n\t\t\ttext: 'hello',\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\tid: 'TCvgKP0G9vfelhDdYVTL',\r\n\t\t},\r\n\t\t{\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\ttext: 'hello',\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\temail: 'test@test.com',\r\n\t\t\tcreatedAt: { seconds: 1631957451, nanoseconds: 722000000 },\r\n\t\t\tid: 'KqukKEh0T8azRDX6ToNM',\r\n\t\t},\r\n\t\t{\r\n\t\t\temail: 'mobile@mobile.com',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t\t\tcreatedAt: { seconds: 1631957154, nanoseconds: 822000000 },\r\n\t\t\ttext: 'Hello',\r\n\t\t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t\t\tid: 'Uk1go9UwCKw2odMhqEbp',\r\n\t\t},\r\n\t\t{\r\n\t\t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t\t\tcreatedAt: { seconds: 1631957132, nanoseconds: 929000000 },\r\n\t\t\temail: 'mobile@mobile.com',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t\t\ttext: 'Hello',\r\n\t\t\tid: 'L6aKOdUgm7NxaeiYioQM',\r\n\t\t},\r\n\t\t{\r\n\t\t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t\t\ttext: '',\r\n\t\t\tcreatedAt: { seconds: 1631957130, nanoseconds: 818000000 },\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t\t\temail: 'mobile@mobile.com',\r\n\t\t\tid: 'SToijJOEB9oMR4pEZzzx',\r\n\t\t},\r\n\t\t{\r\n\t\t\tcreatedAt: { seconds: 1631957088, nanoseconds: 678000000 },\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t\t\ttext: 'How',\r\n\t\t\temail: 'mobile@mobile.com',\r\n\t\t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t\t\tid: 'mvmhWhkAQmkaXXqLweV2',\r\n\t\t},\r\n\t\t{\r\n\t\t\tcreatedAt: { seconds: 1631957029, nanoseconds: 887000000 },\r\n\t\t\temail: 'mobile@mobile.com',\r\n\t\t\ttext: 'HELLO',\r\n\t\t\tuid: '1zhKTV1hU1g4clxV24asIU9XjIM2',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/mobile.svg?background=%239999ff',\r\n\t\t\tid: 'bIJ3e1I0nu5UcgqrBRAx',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: 'this sucks',\r\n\t\t\tuid: '0hpUaD4V6fQNGHMpG0tvj2JwtH62',\r\n\t\t\timage:\r\n\t\t\t\t'https://avatars.dicebear.com/api/gridy/test.svg?background=%239999ff',\r\n\t\t\tcreatedAt: { seconds: 1631956998, nanoseconds: 677000000 },\r\n\t\t\temail: 'test@test.com',\r\n\t\t\tid: 'jB5WindTdrf4VZewi4Fa',\r\n\t\t},\r\n\t];\r\n\r\n\tconst addData = (message, currentUser) => {\r\n\t\treturn addDoc(collection(db, 'messages'), {\r\n\t\t\ttext: message,\r\n\t\t\tcreatedAt: serverTimestamp(),\r\n\t\t\temail: currentUser.email,\r\n\t\t\tuid: currentUser.uid,\r\n\t\t\timage:\r\n\t\t\t\tcurrentUser.photoURL === null\r\n\t\t\t\t\t? `https://avatars.dicebear.com/api/gridy/${currentUser.email.substring(\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\tcurrentUser.email.lastIndexOf('@')\r\n\t\t\t\t\t  )}.svg?background=%239999ff`\r\n\t\t\t\t\t: currentUser.photoURL,\r\n\t\t});\r\n\t};\r\n\r\n\t// useEffect(\r\n\t// \t() =>\r\n\t// \t\tonSnapshot(\r\n\t// \t\t\tcollection(db, 'messages'),\r\n\t// \t\t\t(snapshot) =>\r\n\t// \t\t\t\tsetData(\r\n\t// \t\t\t\t\tsnapshot.docs.map((doc) => {\r\n\t// \t\t\t\t\t\treturn { ...doc.data(), id: doc.id };\r\n\t// \t\t\t\t\t})\r\n\t// \t\t\t\t)\r\n\t// \t\t),\r\n\t// \t[]\r\n\t// );\r\n\r\n\t// useEffect(() => {\r\n\t// \tconst q = query(\r\n\t// \t\tcollection(db, 'messages'),\r\n\t// \t\torderBy('createdAt', 'desc'),\r\n\t// \t\tlimit(11)\r\n\t// \t);\r\n\r\n\t// \tconsole.log('happened');\r\n\r\n\t// \treturn onSnapshot(q, (snapshot) => {\r\n\t// \t\tsetData(\r\n\t// \t\t\tsnapshot.docs.map((doc) => {\r\n\t// \t\t\t\treturn { ...doc.data(), id: doc.id };\r\n\t// \t\t\t})\r\n\t// \t\t);\r\n\t// \t});\r\n\t// }, []);\r\n\r\n\tconst value = {\r\n\t\taddData,\r\n\t\tdata,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<DataContext.Provider value={value}>{props.children}</DataContext.Provider>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useState, useRef } from 'react';\r\n\r\nfunction Profile(props) {\r\n\tconst { currentUser, editProfile } = useAuth();\r\n\r\n\tconst [error, setError] = useState('');\r\n\r\n\tconst emailRef = useRef();\r\n\tconst passowrdRef = useRef();\r\n\tconst displayNameRef = useRef();\r\n\r\n\tconst changeHandler = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\teditProfile(\r\n\t\t\temailRef.current.value,\r\n\t\t\tpassowrdRef.current.value,\r\n\t\t\tdisplayNameRef.current.value,\r\n\t\t\tsetError\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`${\r\n\t\t\t\tprops.className\r\n\t\t\t\t\t? props.className\r\n\t\t\t\t\t: 'hidden md:block h-screen md:w-1/3 max-h-screen overflow-y-auto bg-gray-600'\r\n\t\t\t} `}\r\n\t\t>\r\n\t\t\t<div className='h-1/5 bg-gray-900 text-white flex flex-col items-center justify-center'>\r\n\t\t\t\t<img\r\n\t\t\t\t\talt='user profile'\r\n\t\t\t\t\tclassName='w-20 h-20 rounded-full'\r\n\t\t\t\t\tsrc={\r\n\t\t\t\t\t\tcurrentUser.photoURL === null\r\n\t\t\t\t\t\t\t? `https://avatars.dicebear.com/api/gridy/${currentUser.email.substring(\r\n\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\tcurrentUser.email.lastIndexOf('@')\r\n\t\t\t\t\t\t\t  )}.svg?background=%239999ff`\r\n\t\t\t\t\t\t\t: currentUser.photoURL\r\n\t\t\t\t\t}\r\n\t\t\t\t></img>\r\n\t\t\t\t<span className='mt-4'>\r\n\t\t\t\t\t{currentUser.email.substring(0, currentUser.email.lastIndexOf('@'))}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className='flex flex-col items-center justify-start text-white space-y-3'>\r\n\t\t\t\t<span className='mt-2'>Name: {currentUser.displayName}</span>\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={displayNameRef}\r\n\t\t\t\t\tclassName='bg-gray-800 w-3/4 h-8 border-gray-300 border border-solid rounded-sm'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder='Set Display Name'\r\n\t\t\t\t></input>\r\n\r\n\t\t\t\t<span className='mt-2'>Email: {currentUser.email}</span>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<form className='flex flex-col items-center justify-center mt-5 text-white space-y-3 border-top'>\r\n\t\t\t\t\t<label>Enter Email and Password to Save Changes</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={emailRef}\r\n\t\t\t\t\t\tclassName='bg-gray-800 w-3/4 h-8 border-gray-300 border border-solid rounded-sm'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<label>Enter Password</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={passowrdRef}\r\n\t\t\t\t\t\tclassName='bg-gray-800 w-3/4 h-8 border-gray-300 border border-solid rounded-sm'\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Enter Old password'\r\n\t\t\t\t\t></input>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={changeHandler}\r\n\t\t\t\t\t\tclassName='bg-gray-800 p-2 px-3 rounded-md hover:border-2 border-gray-300 border-solid'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSave Changes\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<p>{error}</p>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\n\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nexport default function MessageItem(props) {\r\n\tconst { currentUser } = useAuth();\r\n\r\n\tconst sender = props.item.uid === currentUser.uid;\r\n\r\n\treturn (\r\n\t\t<div className={`w-full flex ${sender ? 'flex-row-reverse' : 'flex-row'}`}>\r\n\t\t\t<div\r\n\t\t\t\tclassName={`w-max p-2 text-sm flex items-center justify-center rounded-xl bg-gray-800 text-white m-2 ${\r\n\t\t\t\t\tsender ? 'flex-row-reverse' : 'flex-row'\r\n\t\t\t\t}`}\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={props.item.image}\r\n\t\t\t\t\tclassName={`w-8 h-8 rounded-full ${sender ? 'ml-2' : 'mr-2'}`}\r\n\t\t\t\t\talt='t'\r\n\t\t\t\t/>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`flex flex-col justify-between ${\r\n\t\t\t\t\t\tsender ? 'items-end pr-1 pl-2' : 'items-start pl-1z` pr-2'\r\n\t\t\t\t\t} `}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className='text-xs text-gray-400'>\r\n\t\t\t\t\t\t{currentUser.displayName !== null\r\n\t\t\t\t\t\t\t? currentUser.displayName\r\n\t\t\t\t\t\t\t: props.item.email.substring(\r\n\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\tprops.item.email.lastIndexOf('@')\r\n\t\t\t\t\t\t\t  )}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>{props.item.text}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useRef } from 'react';\r\n\r\nimport { useData } from '../../context/DataContext';\r\nimport MessageItem from './MessageItem';\r\n\r\nexport default function ChatWindow(props) {\r\n\tconst { data } = useData();\r\n\tdata.sort((a, b) => b.createdAt - a.createdAt); //descending\r\n\r\n\tconst dummy = useRef();\r\n\r\n\treturn (\r\n\t\t<div className='h-[calc(100%-8rem)] flex flex-col-reverse'>\r\n\t\t\t<div className='main w-full min-w-full max-h-[calc(100vh-8rem-56px)] sm:max-h-[calc(100vh-8rem)] overflow-y-auto flex justify-start flex-col-reverse relative'>\r\n\t\t\t\t{data.length !== 0 &&\r\n\t\t\t\t\tdata.map((item) => {\r\n\t\t\t\t\t\tif (dummy.current !== undefined) {\r\n\t\t\t\t\t\t\tdummy.current.scrollIntoView({ behaviour: 'smooth' });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn <MessageItem key={item.id} item={item} />;\r\n\t\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div ref={dummy}> </div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport Profile from '../user/Profile';\r\nimport OnOutsiceClick from 'react-outclick';\r\n\r\nexport default function Header(props) {\r\n\tconst { currentUser } = useAuth();\r\n\tconst [showProfile, setShowProfile] = useState(false);\r\n\treturn (\r\n\t\t<header className='w-full h-16 md:h-20 flex items-center justify-start bg-gray-800 p-2 z-[5] md:p-4 absolute top-0'>\r\n\t\t\t<h2 className='text-white text-xl md:text-3xl'>#globalChat</h2>\r\n\t\t\t<div\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetShowProfile(!showProfile);\r\n\t\t\t\t}}\r\n\t\t\t\tclassName='flex items-center w-max md:hidden absolute right-5 cursor-pointer '\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={\r\n\t\t\t\t\t\tcurrentUser.photoURL === null\r\n\t\t\t\t\t\t\t? `https://avatars.dicebear.com/api/gridy/${currentUser.email.substring(\r\n\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\tcurrentUser.email.lastIndexOf('@')\r\n\t\t\t\t\t\t\t  )}.svg?background=%239999ff`\r\n\t\t\t\t\t\t\t: currentUser.photoURL\r\n\t\t\t\t\t}\r\n\t\t\t\t\talt='user avatar'\r\n\t\t\t\t\tclassName='w-10 h-10 object-contain rounded-full hover:scale-90 transform transition-all'\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<OnOutsiceClick\r\n\t\t\t\tcontainer={props.closeRef}\r\n\t\t\t\tonOutsideClick={(e) => {\r\n\t\t\t\t\tsetShowProfile(false);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CSSTransition\r\n\t\t\t\t\tin={showProfile}\r\n\t\t\t\t\tmountOnEnter\r\n\t\t\t\t\tunmountOnExit\r\n\t\t\t\t\tclassNames='slide-in-right'\r\n\t\t\t\t\ttimeout={200}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Profile className='w-[calc(20rem-4px)] h-[calc(100vh-3.6rem)] absolute top-0 right-0 bg-gray-600 transform transition-all z-10 shadow-2xl' />\r\n\t\t\t\t</CSSTransition>\r\n\t\t\t</OnOutsiceClick>\r\n\t\t</header>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { useState } from 'react/cjs/react.development';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useData } from '../../context/DataContext';\r\n\r\nexport default function MessageField(props) {\r\n\tconst { currentUser } = useAuth();\r\n\tconst { addData } = useData();\r\n\r\n\tconst [enteredMessage, setEnteredMessage] = useState('');\r\n\r\n\tconst sendMessageHandler = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\ttry {\r\n\t\t\taddData(enteredMessage, currentUser);\r\n\t\t} catch (error) {\r\n\t\t\talert('error sending message');\r\n\t\t\tconsole.log('error');\r\n\t\t}\r\n\t\tsetEnteredMessage('');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='h-16 w-full flex items-center justify-center p-2 absolute bottom-0'>\r\n\t\t\t<form className='flex w-full h-full items-stretch'>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='w-9/12 h-full border-gray-400 border-solid border-2 bg-gray-600'\r\n\t\t\t\t\tplaceholder='enter message'\r\n\t\t\t\t\tonChange={(e) => setEnteredMessage(e.target.value)}\r\n\t\t\t\t\tvalue={enteredMessage}\r\n\t\t\t\t></input>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={sendMessageHandler}\r\n\t\t\t\t\tclassName='mx-auto w-2/12 border-gray-400 border-solid border-2 h-full bg-gray-900 text-white disabled:bg-gray-600 disabled:text-gray-500 disabled:cursor-not-allowed'\r\n\t\t\t\t\tdisabled={!enteredMessage}\r\n\t\t\t\t>\r\n\t\t\t\t\tSEND\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useRef } from 'react/cjs/react.development';\r\nimport ChatWindow from './ChatWindow';\r\nimport Header from './Header';\r\nimport MessageField from './MessageField';\r\n\r\nexport default function ChatRoom() {\r\n\tconst [closeRef, setCloseRef] = useState('');\r\n\r\n\tconst total = useRef();\r\n\r\n\tconst getRef = (ref) => {\r\n\t\tconsole.log(ref);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCloseRef(total);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={total}\r\n\t\t\tclassName='h-full w-full sm:w-11/12 md:w-2/3 flex flex-col justify-center overflow-y-auto bg-gray-500 relative'\r\n\t\t>\r\n\t\t\t<Header closeRef={closeRef} />\r\n\t\t\t<ChatWindow getRef={getRef} />\r\n\t\t\t<MessageField />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import Profile from './components/user/Profile';\r\nimport ChatRoom from './components/chat/ChatRoom';\r\n\r\nconst Main = () => {\r\n\treturn (\r\n\t\t<div className='w-full h-full relative flex flex-row items-center justify-center'>\r\n\t\t\t<ChatRoom />\r\n\t\t\t<Profile />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Main;\r\n","import Signup from './components/auth/Signup';\r\nimport { AuthProvider } from './context/AuthContext';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport './styles/index.css';\r\nimport './styles/scrollBar.css';\r\n// import DashBoard from './components/user/DashBoard';\r\nimport Login from './components/auth/Login';\r\nimport PrivateRoute from './components/auth/PrivateRoute';\r\nimport { DataProvider } from './context/DataContext';\r\n\r\nimport Main from './Main';\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<div className='h-screen max-h-[calc(100vh-56px)] sm:max-h-screen bg-green-500 overflow-y-auto overflow-x-hidden w-full min-w-full'>\r\n\t\t\t<Router>\r\n\t\t\t\t<AuthProvider>\r\n\t\t\t\t\t<DataProvider>\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<PrivateRoute exact path='/' component={Main} />\r\n\t\t\t\t\t\t\t<Route path='/signup' component={Signup} />\r\n\t\t\t\t\t\t\t<Route path='/login' component={Login} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</DataProvider>\r\n\t\t\t\t</AuthProvider>\r\n\t\t\t</Router>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}